from aiogram.fsm.state import StatesGroup, State


class PrescriptionFSM(StatesGroup):
    # ==========================================
    # üè• –û–±—â–∏–µ / –ù–∞—á–∞–ª–æ (General)
    # ==========================================
    choose_lpu = State()  # –í—ã–±–æ—Ä –õ–ü–£ –∏–∑ —Å–ø–∏—Å–∫–∞
    choose_apothecary = State()  # –í—ã–±–æ—Ä –∞–ø—Ç–µ–∫–∏ (–µ—Å–ª–∏ —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—É—Ç—å)

    choose_meds = State()  # –ú—É–ª—å—Ç–∏-–≤—ã–±–æ—Ä –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤ (Checkboxes)

    # üÜï NEW STATES FOR PHARMACY INPUTS
    waiting_for_req_qty = State()  # Waiting for "–ó–∞—è–≤–∫–∞"
    waiting_for_rem_qty = State()  # Waiting for "–û—Å—Ç–∞—Ç–æ–∫"

    # ==========================================
    # üë®‚Äç‚öïÔ∏è –í–µ—Ç–∫–∞: –í–∏–∑–∏—Ç –∫ –í—Ä–∞—á—É (Doctor Flow)
    # ==========================================
    choose_doctor = State()  # –í—ã–±–æ—Ä –≤—Ä–∞—á–∞
    contract_terms = State()  # –í–≤–æ–¥ —É—Å–ª–æ–≤–∏–π (–¢–µ–∫—Å—Ç)
    doctor_comments = State()  # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–¢–µ–∫—Å—Ç) ‚Äî –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª –∏–∑ 'comments'

    # ==========================================
    # üíä –í–µ—Ç–∫–∞: –í–∏–∑–∏—Ç –≤ –ê–ø—Ç–µ–∫—É (Pharmacy Flow)
    # ==========================================
    waiting_for_quantity = State()  # –í–≤–æ–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (–¢–µ–∫—Å—Ç/–ß–∏—Å–ª–æ) ‚Äî –±—ã–ª–æ 'choose_request'
    waiting_for_remaining = State()  # –í–≤–æ–¥ –æ—Å—Ç–∞—Ç–∫–æ–≤ (–¢–µ–∫—Å—Ç/–ß–∏—Å–ª–æ) ‚Äî –±—ã–ª–æ 'choose_remaining'
    pharmacy_comments = State()  # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–¢–µ–∫—Å—Ç) ‚Äî –±—ã–ª–æ 'comments_a'

    # ==========================================
    # ‚úÖ –§–∏–Ω–∞–ª (Finalization)
    # ==========================================
    confirmation = State()  # –≠–∫—Ä–∞–Ω –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∫–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"